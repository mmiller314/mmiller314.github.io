/*!
 * Resume - Resume v5.0.2 (https://mmiller314.github.io/)
 * Copyright 2013-2020 Start Bootstrap
 * Licensed under MIT (https://github.com/mmiller314/mmiller314.github.io/blob/master/LICENSE)
 */

var getRandomNumber=function(s,i){return Math.floor(Math.random()*(i-s+1))+s};function CircleScene(s,i,t,e){this.canvas=document.getElementById("scene"),this.colors=["#4285f4","#34a853","#fbbc05","#ea4335"],this.gravity=s,this.initCircles=i,this.mouse={x:0,y:0,isDown:!1,index:-1},this.ctx=this.canvas.getContext("2d"),this.canvasOffset=t,this.ctx.canvas.width=e,this.circles=[],this.collisionOn=!0;for(var c=0;c<i;c++)this.addCircle()}CircleScene.prototype.resizeCanvas=function(s,i){this.ctx.canvas.width=s,this.ctx.canvas.height=i},CircleScene.prototype.setMousePosition=function(s){1==s.which?(this.mouse.x=s.pageX-this.canvas.offsetLeft-this.canvasOffset.left,this.mouse.y=s.pageY-this.canvas.offsetTop-this.canvasOffset.top-63):0==s.which&&null!=s.touches&&0<s.touches.length&&(this.mouse.x=s.touches[0].pageX-this.canvas.offsetLeft-this.canvasOffset.left,this.mouse.y=s.touches[0].pageY-this.canvas.offsetTop-this.canvasOffset.top-63)},CircleScene.prototype.findNearestCircle=function(){for(var s=this.circles,i=this.mouse.x,t=this.mouse.y,e=0;e<s.length;e++)if(s[e].x+s[e].radius+90>=i&&s[e].x-s[e].radius-90<=i&&s[e].y+s[e].radius+90>=t&&s[e].y-s[e].radius-90<=t)return e;return 0},CircleScene.prototype.mouseDown=function(s){var i;1==s.which&&(this.setMousePosition(s),i=this.findNearestCircle(),this.mouse.index=i,this.mouse.isDown=!0,this.circles[i].x=this.mouse.x,this.circles[i].y=this.mouse.y)},CircleScene.prototype.touchDown=function(s){var i;0==s.which&&null!=s.touches&&(this.setMousePosition(s),i=this.findNearestCircle(),this.mouse.index=i,this.mouse.isDown=!0,this.circles[i].x=this.mouse.x,this.circles[i].y=this.mouse.y)},CircleScene.prototype.mouseUp=function(s){(1==s.which||0==s.which&&null!=s.touches)&&(this.mouse.isDown=!1,this.circles[this.mouse.index].dx=-1*(this.circles[this.mouse.index].x-this.mouse.x)/10,this.circles[this.mouse.index].dy=-1*(this.circles[this.mouse.index].y-this.mouse.y)/10)},CircleScene.prototype.addCircle=function(){this.circles.push({radius:getRandomNumber(15,20),x:getRandomNumber(3,this.ctx.canvas.width-10),y:getRandomNumber(30,300),dx:0,dy:getRandomNumber(1,4),color:this.colors[getRandomNumber(0,3)],mass:10,radiusFactor:-1})},CircleScene.prototype.handleWalls=function(s){var i=this.circles[s];(i.x+i.dx>this.ctx.canvas.width-i.radius||i.x+i.dx<i.radius)&&(i.dx=-i.dx),(i.y+i.dy>this.ctx.canvas.height-i.radius||i.y+i.dy<i.radius)&&(i.dy=-i.dy-this.gravity)},CircleScene.prototype.detectCollision=function(s){for(var i=this.circles[s],t=0;t<this.circles.length;t++)if(t!=s){var e=this.circles[t],c=i.x-e.x,o=i.y-e.y;if(c*c+o*o<=(i.radius+e.radius)*(i.radius+e.radius))return void this.handleCollision(s,t)}},CircleScene.prototype.handleCollision=function(s,i){var t=this.circles[s],e=this.circles[i],c=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),o=(e.x-t.x)/c,n=(e.y-t.y)/c,h=2*(t.dx*o+t.dy*n-e.dx*o-e.dy*n)/(t.mass+e.mass),a=t.dx-h*t.mass*o,r=t.dy-h*t.mass*n,l=e.dx+h*e.mass*o,u=e.dy+h*e.mass*n;this.circles[s].dx=a,this.circles[s].dy=r,this.circles[i].dx=l,this.circles[i].dy=u},CircleScene.prototype.initEvents=function(){var i=this;this.canvas.onmousemove=function(s){i.setMousePosition(s)},this.canvas.onmousedown=function(s){i.mouseDown(s)},this.canvas.onmouseup=function(s){i.mouseUp(s)},this.canvas.addEventListener("touchstart",function(s){i.touchDown(s)},!1),this.canvas.addEventListener("touchmove",function(s){i.setMousePosition(s)},!1),this.canvas.addEventListener("touchend",function(s){i.mouseUp(s)},!1)},CircleScene.prototype.renderCircle=function(s){this.ctx.beginPath(),this.ctx.arc(s.x,s.y,s.radius,0,2*Math.PI),this.ctx.fillStyle=s.color,this.ctx.fill(),this.ctx.closePath()},CircleScene.prototype.render=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(var s=0;s<this.circles.length;s++){var i,t=this.circles[s];this.collisionOn&&this.detectCollision(s),this.renderCircle(t),this.mouse.isDown&&this.mouse.index==s?(i=this.mouse.index,this.ctx.beginPath(),this.ctx.moveTo(this.circles[i].x,this.circles[i].y),this.ctx.lineTo(this.mouse.x,this.mouse.y),this.ctx.strokeStyle="#616161",this.ctx.stroke(),this.ctx.closePath()):(this.circles[s].dy+=this.gravity,this.circles[s].x+=this.circles[s].dx,this.circles[s].y+=this.circles[s].dy,this.handleWalls(s))}},function(t){"use strict";var e=null,c=null;t('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var s=t(this.hash);if((s=s.length?s:t("[name="+this.hash.slice(1)+"]")).length)return t("html, body").animate({scrollTop:s.offset().top},1e3,"easeInOutExpo"),!1}}),t(".js-scroll-trigger").click(function(){t(".navbar-collapse").collapse("hide")}),t("body").scrollspy({target:"#sideNav"}),t('[data-toggle="tooltip"]').tooltip(),t("#circleSceneBtn").click(function(){t("#circleSceneModal").modal({backdrop:"static",keyboard:!1});var s=t("#dialog").offset(),i=t("#dialog").width();console.log("width",i),(e=new CircleScene(.44,2,s,i-10)).initEvents(),c=setInterval(function(){e.render()},10)}),t("#addBtn").click(function(){e.addCircle()}),t("#circleSceneModal").on("hide.bs.modal",function(s){clearInterval(c),e=c=null}),t("#collisionBtn").click(function(){e.collisionOn?(t("#collisionBtn").removeClass("btn-success"),t("#collisionBtn").addClass("btn-warning"),e.collisionOn=!1,t("#collisionBtn").text("Collision is off")):(t("#collisionBtn").removeClass("btn-warning"),t("#collisionBtn").addClass("btn-success"),t("#collisionBtn").text("Collision is on"),e.collisionOn=!0)}),t("#grunt").click(function(){t(".easter-egg").removeClass("easter-egg")}),t(window).resize(function(){var s=t("#dialog").width();e&&e.resizeCanvas(s,480)})}(jQuery);